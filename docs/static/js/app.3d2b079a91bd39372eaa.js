webpackJsonp([1],[,,,,,,,,,,,,,function(t,e,a){"use strict";var s=a(7),n=a.n(s),r=a(114),o=a(98),i=a.n(o),c=a(97),u=a.n(c),d=a(100),m=a.n(d),l=a(101),p=a.n(l);n.a.use(r.a),e.a=new r.a({routes:[{path:"/boards",name:"Boards",component:i.a},{path:"/boards/:id",name:"Board",component:u.a},{path:"/login",name:"Login",component:m.a},{path:"/register",name:"Register",component:p.a}]})},,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var s=a(38),n=a.n(s),r=a(13),o=a(7),i=a.n(o),c=a(117);i.a.use(c.a);var u=n.a.create({baseURL:"https://vue-kanban-vail.herokuapp.com/api/",timeout:2e3,withCredentials:!0}),d=n.a.create({baseURL:"https://vue-kanban-vail.herokuapp.com/",timeout:2e3,withCredentials:!0}),m={boards:[],activeBoard:{},activeLists:[],createLists:{},removeLists:{},removeBoard:{},activeTasks:{},createTasks:{},createNewTask:{},removeTasks:{},moveTasks:{},activeComments:{},createComments:{},removeComments:{},error:{},user:{}},l=function(t,e){t.error=e};e.a=new c.a.Store({state:m,mutations:{setBoards:function(t,e){t.boards=e},setActiveBoard:function(t,e){t.activeBoard=e},activeLists:function(t,e){t.activeLists=e.lists},activeTasks:function(t,e){i.a.set(t.activeTasks,e._id,e.tasks)},activeComments:function(t,e){i.a.set(t.activeComments,e._id,e.comments)},user:function(t,e){t.user=e}},actions:{getBoards:function(t){var e=t.commit;t.dispatch;u("userboards").then(function(t){e("setBoards",t.data.data)}).catch(l)},getBoard:function(t,e){var a=t.commit;t.dispatch;u("boards/"+e).then(function(t){a("setActiveBoard",t.data.data)}).catch(l)},createBoard:function(t,e){var a=(t.commit,t.dispatch);u.post("boards/",e).then(function(t){a("getBoards")}).catch(l)},removeBoard:function(t,e){var a=(t.commit,t.dispatch);u.delete("boards/"+e._id).then(function(t){a("removeBoard")}).catch(l)},getLists:function(t,e){var a=t.commit;t.dispatch;u("/boards/"+e+"/lists/").then(function(t){a("activeLists",t.data.data)}).catch(l)},createLists:function(t,e){var a=(t.commit,t.dispatch);u.post("lists/",e).then(function(t){a("getLists",e.boardId)}).catch(l)},removeLists:function(t,e){var a=(t.commit,t.dispatch);u.delete("lists/"+e._id).then(function(t){a("getLists")}).catch(l)},getTasks:function(t,e){var a=t.commit;t.dispatch;u("boards/"+e.boardId+"/lists/"+e._id+"/tasks").then(function(t){a("activeTasks",t.data.data)}).catch(l)},moveTasks:function(t,e){var a=(t.commit,t.dispatch);u.put("tasks/",e).then(function(t){a("getTasks",{boardId:e.boardId,_id:e.listId})}).catch(l)},createNewTask:function(t,e){var a=(t.commit,t.dispatch);u.post("tasks/",e).then(function(t){a("getTasks",{boardId:e.boardId,_id:e.listId})}).catch(l)},removeTasks:function(t,e){var a=(t.commit,t.dispatch);u.delete("tasks/"+e._id).then(function(t){a("getTasks",{boardId:e.boardId,_id:e.listId})}).catch(l)},getComments:function(t,e){var a=t.commit;t.dispatch;u("boards/"+e.boardId+"/lists/"+e.listId+"/tasks/"+e._id+"/comments").then(function(t){a("activeComments",t.data.data)}).catch(l)},removeComments:function(t,e){var a=(t.commit,t.dispatch);u.delete("comments/"+e._id).then(function(t){a("getComments",{boardId:e.boardId,listId:e.listId,_id:e.taskId})}).catch(l)},createComments:function(t,e){var a=(t.commit,t.dispatch);u.post("comments/",e).then(function(t){a("getComments",{boardId:e.boardId,listId:e.listId,_id:e.taskId})}).catch(l)},login:function(t,e){var a=t.commit;t.dispatch;d.post("login",e).then(function(t){if(console.log(t),t.data.error)return l(t.data.error);a("user",t.data.data),r.a.push("/boards")}).catch(l)},register:function(t,e){t.commit,t.dispatch;d.post("register",e).then(function(t){if(console.log(t),t.data.error)return l(t.data.error);m.user=t.data,r.a.push("/boards")}).catch(l)},getAuth:function(){d("authenticate").then(function(t){if(!t.data.data)return r.a.push("/login");m.user=t.data.data,r.a.push("/boards")}).catch(function(t){r.a.push("/login")})},clearError:function(){m.error={}}}})},,function(t,e,a){a(81);var s=a(3)(a(56),a(106),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(99),n=a.n(s);e.default={name:"app",mounted:function(){this.$store.dispatch("getAuth")},components:{Error:n.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(103),n=a.n(s);e.default={name:"boards",data:function(){return{name:""}},mounted:function(){this.$store.dispatch("getBoard",this.$route.params.id),this.$store.dispatch("getLists",this.$route.params.id)},computed:{board:function(){return this.$store.state.activeBoard},lists:function(){return this.$store.state.activeLists}},methods:{createLists:function(){this.$store.dispatch("createLists",{name:this.name,description:this.description,boardId:this.$route.params.id}),this.name=""},removeLists:function(t){this.$store.dispatch("removeLists",t)}},components:{List:n.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"boards",mounted:function(){this.$store.dispatch("getBoards")},computed:{boards:function(){return this.$store.state.boards}},methods:{createBoard:function(){this.$store.dispatch("createBoard",{name:"Testing board creation",description:"blarg"})},removeBoard:function(t){this.$store.dispatch("removeBoard",t)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"error",computed:{error:function(){return this.$store.state.error}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"login",data:function(){return{user:{}}},computed:{},methods:{login:function(){this.$store.dispatch("login",this.user)}},components:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"register",data:function(){return{user:{}}},computed:{},methods:{register:function(){this.$store.dispatch("register",this.user)}},components:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"comment",props:["comment-data"],methods:{},mounted:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(66),n=a.n(s),r=a(104),o=a.n(r),i=a(116),c=a.n(i);e.default={name:"list",data:function(){return{name:""}},props:["listData"],mounted:function(){this.$store.dispatch("getTasks",this.listData)},computed:{tasks:function(){return this.$store.state.activeTasks[this.listData._id]}},methods:{getDets:function(){console.log(this.tasks.description)},createTasks:function(t){var e=JSON.parse(t.dataTransfer.getData("text/javascript"));e.listId=this.listData._id,this.$store.dispatch("moveTask",e)},createNewTask:function(){this.$store.dispatch("createNewTask",{name:this.name,listId:this.listData._id,boardId:this.$route.params.id}),this.name=""},moving:function(t){console.log(t.target,t.target.id);var e=this.tasks[t.target.id];t.dataTransfer.setData("text/javascript",n()(e)),console.log("We are moving")},moveTasks:function(){var t=this.tasks.indexOf(this.tasks);this.tasks.splice(t,1),this.$store.dispatch("moveTasks",tasks)},removeTasks:function(){this.$store.dispatch("removeTasks",listData._id,boardId.tasks)}},components:{Task:o.a,draggable:c.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(102),n=a.n(s);e.default={name:"task",data:function(){return{name:""}},props:["taskData"],mounted:function(){this.$store.dispatch("getComments",this.taskData)},computed:{comments:function(){return this.$store.state.activeComments[this.taskData._id]}},methods:{createComments:function(){this.$store.dispatch("createComments",{name:this.name,taskId:this.taskData._id,listId:this.$route.params.id,boardId:this.$route.params.id}),this.name=""},removeComments:function(t){this.$store.dispatch("removeComments",t)}},components:{Comment:n.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),n=a.n(s),r=a(35),o=a.n(r),i=a(13),c=a(34),u=a.n(c),d=a(33),m=u()("https://vue-kanban-vail.herokuapp.com/");m.on("CONNECTED",function(t){console.log(t),m.emit("update",{data:"blarg",boardId:"3289748320"})}),new n.a({el:"#app",store:d.a,router:i.a,template:"<App/>",components:{App:o.a}})},,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,function(t,e,a){a(84);var s=a(3)(a(57),a(109),"data-v-5337eb44",null);t.exports=s.exports},function(t,e,a){a(80);var s=a(3)(a(58),a(105),"data-v-0c6e3af6",null);t.exports=s.exports},function(t,e,a){a(83);var s=a(3)(a(59),a(108),"data-v-49c58c80",null);t.exports=s.exports},function(t,e,a){a(85);var s=a(3)(a(60),a(110),null,null);t.exports=s.exports},function(t,e,a){a(88);var s=a(3)(a(61),a(113),"data-v-fd9f004a",null);t.exports=s.exports},function(t,e,a){a(87);var s=a(3)(a(62),a(112),"data-v-e694f512",null);t.exports=s.exports},function(t,e,a){a(82);var s=a(3)(a(63),a(107),"data-v-3aa38f94",null);t.exports=s.exports},function(t,e,a){a(86);var s=a(3)(a(64),a(111),"data-v-7a06f19d",null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"well"},[a("button",{on:{click:t.createBoard}},[t._v("Add Board")]),t._v(" "),a("ul",t._l(t.boards,function(e){return a("li",[a("router-link",{attrs:{to:"/boards/"+e._id}},[t._v(t._s(e.name))]),t._v(" "),a("span",{on:{click:function(a){t.removeBoard(e)}}},[t._v("x")])],1)}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("error"),t._v(" "),a("div",{staticClass:"container"},[a("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"well well-sm"},[a("div",{staticClass:"list",attrs:{droppable:"true",ondragover:"event.preventDefault()"},on:{"!drop":function(e){t.createTasks(e)}}},[t._v("\r\n    Active List: "+t._s(t.listData.name)+"  ---- "+t._s(t.listData.description)+" ---- "+t._s(t.listData._id)+"\r\n    "),a("form",{on:{submit:function(e){e.preventDefault(),t.createNewTask()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",required:"",placeholder:"Create Tasks"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("+")]),t._v(" "),a("span",{on:{submit:function(e){e.preventDefault(),t.removeTasks()}}},[t._v("x")])]),t._v(" "),t._l(t.tasks,function(e,s){return a("div",{key:s,staticClass:"tasks",attrs:{id:s,draggable:"true"},on:{"!dragstart":function(e){t.moving(e)}}},[a("task",{attrs:{taskData:e}}),t._v(" "),a("div",{on:{click:t.getDets,dragend:t.moveTasks}})],1)})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v(" \n  Error: "+t._s(t.error)+"\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"well"},[t._v("\r\n    Active Board: "+t._s(t.board.name)+"\r\n    "),a("h5",[a("button",{attrs:{type:"button"}},[a("router-link",{attrs:{to:"/boards/"}},[t._v("go back to boards list...")])],1)]),t._v(" "),a("form",{on:{submit:function(e){e.preventDefault(),t.createLists(t.list)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",required:"",placeholder:"Create List"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("+")]),t._v(" "),a("span",{on:{submit:function(e){e.preventDefault(),t.removeLists(t.list)}}},[t._v("x")])]),t._v(" "),a("div",{staticClass:"well"},t._l(t.lists,function(t){return a("li",[a("list",{attrs:{listData:t}})],1)}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"form-group"},[a("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"text",required:"",placeholder:"user name"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||(t.user.email=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",require:"",placeholder:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||(t.user.password=e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("login")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"well well-sm"},[a("div",{staticClass:"task"},[t._v("  \r\n    "+t._s(t.taskData.name)+"\r\n    "),a("form",{on:{submit:function(e){e.preventDefault(),t.createComments()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",required:"",placeholder:"Create Comment"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("+")]),t._v(" "),a("span",{on:{submit:function(e){e.preventDefault(),t.removeComments()}}},[t._v("x")])]),t._v(" "),a("ul",t._l(t.comments,function(t){return a("li",[a("comment",{attrs:{commentData:t}})],1)}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"well well-sm"},[a("div",{staticClass:"comment"},[t._v("  \r\n    "+t._s(t.commentData.name)+"\r\n    ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"form-group"},[a("form",{on:{submit:function(e){e.preventDefault(),t.register(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{type:"text",required:"",placeholder:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||(t.user.name=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"email",required:"",placeholder:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||(t.user.email=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",required:"",placeholder:"set password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||(t.user.password=e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("submit!")])])])])},staticRenderFns:[]}},,,,,,,function(t,e){}],[65]);
//# sourceMappingURL=app.3d2b079a91bd39372eaa.js.map